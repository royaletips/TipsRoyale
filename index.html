<!DOCTYPE html>
<html lang="pl"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üëë PRO Tips for Clash Royale üõ°Ô∏è</title>
    <link rel="stylesheet" href="style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Styl dla elementu wyboru jƒôzyka, pozycjonowany wzglƒôdem okna przeglƒÖdarki */
        .language-selector {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #f7f7f7;
            font-size: 16px;
            cursor: pointer;
            z-index: 100;
        }

        /* Dodatkowe style dla ukrycia/pokazania sekcji oraz panelu admina */
        .hidden {
            display: none !important;
        }
        #admin-panel {
            background-color: #fce4ec; /* Jasnor√≥≈ºowe t≈Ço dla odr√≥≈ºnienia */
            padding: 30px;
            margin: 20px auto;
            border-radius: 10px;
            border: 2px solid #8a2be2;
        }
        #admin-panel h2 {
            color: #8a2be2;
        }
        #login-form input[type="text"], #login-form input[type="password"] {
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100%;
            box-sizing: border-box;
        }
        #login-form button, .admin-button {
            background-color: #8a2be2;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #login-form button:hover, .admin-button:hover {
            background-color: #6a1b9a;
        }
        .admin-tip-item {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .admin-tip-item textarea {
            width: 100%;
            min-height: 80px;
            margin-top: 5px;
        }
    </style>
</head>
<body>

    <header>
        <select id="language-switcher" class="language-selector" onchange="changeLanguage(this.value)">
            <option value="pl">Polski üáµüá±</option>
            <option value="en">English üá¨üáß</option>
            <option value="de">Deutsch üá©üá™</option>
        </select>
        <h1 data-pl="üëë CLASH ROYALE: PORADY I PRZEWODNIKI DLA MISTRZ√ìW üèÜ" 
            data-en="üëë CLASH ROYALE: TIPS AND GUIDES FOR MASTERS üèÜ"
            data-de="üëë CLASH ROYALE: TIPPS UND GUIDES F√úR MEISTER üèÜ">
            üëë CLASH ROYALE: PORADY I PRZEWODNIKI DLA MISTRZ√ìW üèÜ
        </h1>
        <p data-pl="Strategie, talie i zaawansowane triki, aby wspiƒÖƒá siƒô do Legendarnej Areny."
           data-en="Strategies, decks, and advanced tricks to climb to the Legendary Arena."
           data-de="Strategien, Decks und fortgeschrittene Tricks, um in die Legend√§re Arena aufzusteigen.">
            Strategie, talie i zaawansowane triki, aby wspiƒÖƒá siƒô do Legendarnej Areny.
        </p>
    </header>

    <nav>
        <ul>
            <li><a href="#strategies" data-pl="Strategie" data-en="Strategies" data-de="Strategien">Strategie</a></li>
            <li><a href="#decks" data-pl="Najlepsze Talie" data-en="Best Decks" data-de="Beste Decks">Najlepsze Talie</a></li>
            <li><a href="#admin" data-pl="Panel Admina" data-en="Admin Panel" data-de="Admin-Panel">Panel Admina</a></li>
        </ul>
    </nav>

    <main>
        <section id="introduction">
            <h2 data-pl="üëã Witaj na stronie z poradami!" data-en="üëã Welcome to the PRO Tips page!" data-de="üëã Willkommen auf der PRO-Tipps-Seite!">
                Witaj na stronie z poradami!
            </h2>
            <p data-pl="Opanuj grƒô Clash Royale dziƒôki naszym ekskluzywnym wskaz√≥wkom i przewodnikom dla mistrz√≥w."
               data-en="Master Clash Royale with our exclusive tips and guides for masters."
               data-de="Meistern Sie Clash Royale mit unseren exklusiven Tipps und Anleitungen f√ºr Meister.">
                Opanuj grƒô Clash Royale dziƒôki naszym ekskluzywnym wskaz√≥wkom.
            </p>
        </section>

        <section id="strategies">
            <h2 data-pl="üî• Zaawansowane Porady Taktyczne" data-en="üî• Advanced Tactical Tips" data-de="üî• Fortgeschrittene Taktik-Tipps">
                Zaawansowane Porady Taktyczne
            </h2>
            <ul class="tip-list" id="tip-list-content">
                </ul>
        </section>
        
        <section id="decks" class="hidden">
             </section>

        <section id="admin">
            <h2 data-pl="üîê Panel Logowania Admina" data-en="üîê Admin Login Panel" data-de="üîê Admin-Login-Panel">
                Panel Logowania Admina
            </h2>
            <div id="login-container">
                <form id="login-form">
                    <input type="text" id="username" placeholder="Login" required><br>
                    <input type="password" id="password" placeholder="Has≈Ço" required><br>
                    <button type="submit" data-pl="Zaloguj" data-en="Login" data-de="Anmelden">Zaloguj</button>
                    <p id="login-message" style="color: red; margin-top: 10px;"></p>
                </form>
            </div>

            <div id="admin-panel" class="hidden">
                <h2 data-pl="Panel Administracyjny: Edycja Porad" data-en="Admin Panel: Tip Editor" data-de="Admin-Panel: Tipp-Editor">
                    Panel Administracyjny: Edycja Porad
                </h2>
                
                <h3>Dodaj nowy Tip</h3>
                <div id="add-new-tip" style="border: 1px solid #ffd700; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                    <label>PL:</label><textarea id="new-tip-pl" placeholder="Tip po polsku"></textarea><br>
                    <label>EN:</label><textarea id="new-tip-en" placeholder="Tip po angielsku"></textarea><br>
                    <label>DE:</label><textarea id="new-tip-de" placeholder="Tip po niemiecku"></textarea><br>
                    <button class="admin-button" onclick="addTip()" data-pl="Dodaj Tip" data-en="Add Tip" data-de="Tipp hinzuf√ºgen">Dodaj Tip</button>
                </div>
                
                <h3>Edytuj istniejƒÖce Tip-y</h3>
                <div id="tip-editor-list">
                    </div>

                <button class="admin-button" onclick="logout()" style="margin-top: 20px;" data-pl="Wyloguj" data-en="Logout" data-de="Abmelden">Wyloguj</button>
            </div>
        </section>

    </main>

    <footer>
        <p>&copy; 2025 Clash Royale PRO Tips. Wszystkie prawa zastrze≈ºone.</p>
    </footer>

    <script>
        // --- DANE STARTOWE (Tipy) ---
        const INITIAL_TIPS = [
            { id: 1, pl: "Naucz siƒô liczyƒá Elixir, aby zawsze mieƒá przewagƒô w kontrataku.", en: "Learn to count Elixir to always have an advantage in a counter-attack.", de: "Lernen Sie, Elixier zu z√§hlen, um im Gegenangriff immer einen Vorteil zu haben." },
            { id: 2, pl: "U≈ºywaj zap jako reset dla Inferno Tower!", en: "Use Zap to reset the Inferno Tower's charge!", de: "Nutzen Sie Zap, um die Inferno-Turm-Aufladung zur√ºckzusetzen!" },
            { id: 3, pl: "Nigdy nie stawiaj Golema za King Tower, zanim nie znasz talii przeciwnika.", en: "Never place Golem behind the King Tower until you know the opponent's deck.", de: "Stellen Sie den Golem niemals hinter den K√∂nigsturm, bevor Sie das Deck des Gegners kennen." },
        ];
        
        let tips = [];
        const ADMIN_LOGIN = "Astralis2137";
        const ADMIN_PASS = "2025AstraXAq";
        let nextTipId = 1;


        // --- FUNKCJE JƒòZYKOWE (changeLanguage) ---
        function changeLanguage(lang) {
            function updateText(element) {
                const text = element.getAttribute('data-' + lang);
                if (text) {
                    element.textContent = text;
                }
            }
            document.querySelectorAll('[data-pl]').forEach(updateText);
            document.documentElement.lang = lang;
            localStorage.setItem('selectedLanguage', lang);
            renderTips(lang); // Prze≈Çaduj tipy przy zmianie jƒôzyka
        }

        // --- FUNKCJE PANELU ADMINA ---

        function loadTips() {
            const storedTips = localStorage.getItem('clashRoyaleTips');
            if (storedTips) {
                tips = JSON.parse(storedTips);
                // Ustawienie nastƒôpnego ID (dla nowych tip√≥w)
                const maxId = tips.reduce((max, tip) => Math.max(max, tip.id), 0);
                nextTipId = maxId + 1;
            } else {
                tips = INITIAL_TIPS;
                saveTips();
            }
        }

        function saveTips() {
            localStorage.setItem('clashRoyaleTips', JSON.stringify(tips));
            // Po zapisaniu, prze≈Çaduj widok g≈Ç√≥wny i edytor
            renderTips(document.documentElement.lang);
            if (!document.getElementById('admin-panel').classList.contains('hidden')) {
                renderAdminEditor();
            }
        }

        function renderTips(lang) {
            const ul = document.getElementById('tip-list-content');
            ul.innerHTML = ''; // Wyczy≈õƒá listƒô

            tips.forEach(tip => {
                const li = document.createElement('li');
                li.textContent = tip[lang] || tip.pl; // Wy≈õwietl wybrany jƒôzyk lub polski jako fallback
                ul.appendChild(li);
            });
        }
        
        function renderAdminEditor() {
            const editorList = document.getElementById('tip-editor-list');
            editorList.innerHTML = '';
            
            tips.forEach(tip => {
                const div = document.createElement('div');
                div.className = 'admin-tip-item';
                div.innerHTML = `
                    <p>ID: ${tip.id}</p>
                    <label>PL:</label><textarea id="tip-pl-${tip.id}">${tip.pl}</textarea><br>
                    <label>EN:</label><textarea id="tip-en-${tip.id}">${tip.en}</textarea><br>
                    <label>DE:</label><textarea id="tip-de-${tip.id}">${tip.de}</textarea><br>
                    <button class="admin-button" onclick="editTip(${tip.id})">Zapisz</button>
                    <button class="admin-button" onclick="deleteTip(${tip.id})" style="background-color: #e74c3c;">Usu≈Ñ</button>
                `;
                editorList.appendChild(div);
            });
        }

        function addTip() {
            const pl = document.getElementById('new-tip-pl').value.trim();
            const en = document.getElementById('new-tip-en').value.trim();
            const de = document.getElementById('new-tip-de').value.trim();

            if (!pl || !en || !de) {
                alert("Wszystkie pola jƒôzykowe muszƒÖ byƒá wype≈Çnione!");
                return;
            }

            const newTip = {
                id: nextTipId++,
                pl: pl,
                en: en,
                de: de
            };
            tips.push(newTip);
            saveTips();
            
            // Wyczy≈õƒá formularz
            document.getElementById('new-tip-pl').value = '';
            document.getElementById('new-tip-en').value = '';
            document.getElementById('new-tip-de').value = '';
        }

        function editTip(id) {
            const tipIndex = tips.findIndex(t => t.id === id);
            if (tipIndex === -1) return;

            tips[tipIndex].pl = document.getElementById(`tip-pl-${id}`).value;
            tips[tipIndex].en = document.getElementById(`tip-en-${id}`).value;
            tips[tipIndex].de = document.getElementById(`tip-de-${id}`).value;
            
            saveTips();
            alert(`Tip #${id} zapisany!`);
        }

        function deleteTip(id) {
            if (!confirm("Czy na pewno chcesz usunƒÖƒá ten tip?")) return;
            tips = tips.filter(t => t.id !== id);
            saveTips();
            renderAdminEditor(); // Od≈õwie≈º widok edytora po usuniƒôciu
        }

        // --- FUNKCJE AUTORYZACJI (Symulowanej) ---
        
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const user = document.getElementById('username').value;
            const pass = document.getElementById('password').value;
            const msg = document.getElementById('login-message');

            if (user === ADMIN_LOGIN && pass === ADMIN_PASS) {
                // Udane logowanie
                document.getElementById('login-container').classList.add('hidden');
                document.getElementById('admin-panel').classList.remove('hidden');
                msg.textContent = '';
                localStorage.setItem('isAdminLoggedIn', 'true');
                renderAdminEditor(); // Za≈Çaduj edytor po zalogowaniu
            } else {
                // Nieudane logowanie
                msg.textContent = 'B≈Çƒôdny login lub has≈Ço!';
            }
        });

        function logout() {
            localStorage.removeItem('isAdminLoggedIn');
            document.getElementById('login-container').classList.remove('hidden');
            document.getElementById('admin-panel').classList.add('hidden');
        }

        // --- INITIALIZACJA ---
        document.addEventListener('DOMContentLoaded', () => {
            loadTips(); // ≈Åaduj tipy z localStorage
            
            // Sprawdzenie statusu logowania przy ≈Çadowaniu strony
            const isLoggedIn = localStorage.getItem('isAdminLoggedIn') === 'true';
            if (isLoggedIn) {
                document.getElementById('login-container').classList.add('hidden');
                document.getElementById('admin-panel').classList.remove('hidden');
                renderAdminEditor();
            } else {
                document.getElementById('login-container').classList.remove('hidden');
                document.getElementById('admin-panel').classList.add('hidden');
            }

            // Ustawienie poczƒÖtkowego jƒôzyka
            const initialLang = localStorage.getItem('selectedLanguage') || 'pl';
            document.getElementById('language-switcher').value = initialLang;
            changeLanguage(initialLang); // Renderuje tipy w wybranym jƒôzyku
        });
    </script>
</body>
</html>
